{"ast":null,"code":"import { io } from 'socket.io-client';\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\nlet socket = null;\nexport const initSocket = () => {\n  if (!socket) {\n    socket = io(SOCKET_URL, {\n      transports: ['websocket', 'polling']\n    });\n    socket.on('connect', () => {\n      console.log('Socket connected:', socket.id);\n    });\n    socket.on('disconnect', () => {\n      console.log('Socket disconnected');\n    });\n    socket.on('connect_error', error => {\n      console.error('Socket connection error:', error);\n    });\n  }\n  return socket;\n};\nexport const getSocket = () => {\n  if (!socket) {\n    return initSocket();\n  }\n  return socket;\n};\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};\nexport const joinUserRoom = userId => {\n  const s = getSocket();\n  s.emit('join:user', userId);\n};\nexport const joinAdminRoom = () => {\n  const s = getSocket();\n  s.emit('join:admin');\n};\nexport const joinKioskRoom = () => {\n  const s = getSocket();\n  s.emit('join:kiosk');\n};\nexport default {\n  initSocket,\n  getSocket,\n  disconnectSocket,\n  joinUserRoom,\n  joinAdminRoom,\n  joinKioskRoom\n};","map":{"version":3,"names":["io","SOCKET_URL","process","env","REACT_APP_SOCKET_URL","socket","initSocket","transports","on","console","log","id","error","getSocket","disconnectSocket","disconnect","joinUserRoom","userId","s","emit","joinAdminRoom","joinKioskRoom"],"sources":["/Users/ashutoshnaruka/college-canteen-manager/client/src/services/socket.js"],"sourcesContent":["import { io } from 'socket.io-client';\n\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\n\nlet socket = null;\n\nexport const initSocket = () => {\n  if (!socket) {\n    socket = io(SOCKET_URL, {\n      transports: ['websocket', 'polling']\n    });\n\n    socket.on('connect', () => {\n      console.log('Socket connected:', socket.id);\n    });\n\n    socket.on('disconnect', () => {\n      console.log('Socket disconnected');\n    });\n\n    socket.on('connect_error', (error) => {\n      console.error('Socket connection error:', error);\n    });\n  }\n  return socket;\n};\n\nexport const getSocket = () => {\n  if (!socket) {\n    return initSocket();\n  }\n  return socket;\n};\n\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};\n\nexport const joinUserRoom = (userId) => {\n  const s = getSocket();\n  s.emit('join:user', userId);\n};\n\nexport const joinAdminRoom = () => {\n  const s = getSocket();\n  s.emit('join:admin');\n};\n\nexport const joinKioskRoom = () => {\n  const s = getSocket();\n  s.emit('join:kiosk');\n};\n\nexport default {\n  initSocket,\n  getSocket,\n  disconnectSocket,\n  joinUserRoom,\n  joinAdminRoom,\n  joinKioskRoom\n};\n"],"mappings":"AAAA,SAASA,EAAE,QAAQ,kBAAkB;AAErC,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,uBAAuB;AAE9E,IAAIC,MAAM,GAAG,IAAI;AAEjB,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAC9B,IAAI,CAACD,MAAM,EAAE;IACXA,MAAM,GAAGL,EAAE,CAACC,UAAU,EAAE;MACtBM,UAAU,EAAE,CAAC,WAAW,EAAE,SAAS;IACrC,CAAC,CAAC;IAEFF,MAAM,CAACG,EAAE,CAAC,SAAS,EAAE,MAAM;MACzBC,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEL,MAAM,CAACM,EAAE,CAAC;IAC7C,CAAC,CAAC;IAEFN,MAAM,CAACG,EAAE,CAAC,YAAY,EAAE,MAAM;MAC5BC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IACpC,CAAC,CAAC;IAEFL,MAAM,CAACG,EAAE,CAAC,eAAe,EAAGI,KAAK,IAAK;MACpCH,OAAO,CAACG,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD,CAAC,CAAC;EACJ;EACA,OAAOP,MAAM;AACf,CAAC;AAED,OAAO,MAAMQ,SAAS,GAAGA,CAAA,KAAM;EAC7B,IAAI,CAACR,MAAM,EAAE;IACX,OAAOC,UAAU,CAAC,CAAC;EACrB;EACA,OAAOD,MAAM;AACf,CAAC;AAED,OAAO,MAAMS,gBAAgB,GAAGA,CAAA,KAAM;EACpC,IAAIT,MAAM,EAAE;IACVA,MAAM,CAACU,UAAU,CAAC,CAAC;IACnBV,MAAM,GAAG,IAAI;EACf;AACF,CAAC;AAED,OAAO,MAAMW,YAAY,GAAIC,MAAM,IAAK;EACtC,MAAMC,CAAC,GAAGL,SAAS,CAAC,CAAC;EACrBK,CAAC,CAACC,IAAI,CAAC,WAAW,EAAEF,MAAM,CAAC;AAC7B,CAAC;AAED,OAAO,MAAMG,aAAa,GAAGA,CAAA,KAAM;EACjC,MAAMF,CAAC,GAAGL,SAAS,CAAC,CAAC;EACrBK,CAAC,CAACC,IAAI,CAAC,YAAY,CAAC;AACtB,CAAC;AAED,OAAO,MAAME,aAAa,GAAGA,CAAA,KAAM;EACjC,MAAMH,CAAC,GAAGL,SAAS,CAAC,CAAC;EACrBK,CAAC,CAACC,IAAI,CAAC,YAAY,CAAC;AACtB,CAAC;AAED,eAAe;EACbb,UAAU;EACVO,SAAS;EACTC,gBAAgB;EAChBE,YAAY;EACZI,aAAa;EACbC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}